# 通过node游戏 来聊操作系统
- 石头rock  剪刀scisor  布paper
- 怎么玩？
    选择协议？ http 网页游戏  服务器端是不可以主动发送数据  
    双方都可以相互通信，发送接收信息 TCP/IP 连接 ws websocket
- 电脑来玩  应用层
    冯诺依曼原理
    1. 输入设备 键盘 鼠标  你的选择 交给电脑吧？
    2. 内存  userChoice rock
        电脑  Math.random()  comChoice page
    3. cpu  内存中 调入 cpu 计算，得到结果 computer赢了
    4. 输出设备（显示器） computer赢了

- 业务逻辑拆分很清晰
    index.js 负责输入输出，使用了操作系统的冯诺依曼原理
    在硬件上的软件架构
    throw new Error(message) 进程终止掉
    process.exit() 退下
    c++ node buffer

- 如果没有操作系统，我们写代码会成为什么样子？
    1. js java 高级程序语言 编译器和解释器
        c 中 高 内存
        汇编 低级语言 类似 CPU 指令集
    2. 硬件的驱动，指令的翻译  自己考虑
    3. 底层和冯诺依曼计算体系给我们做了封装
    4. 只需要写代码和操作系统接口 交互就可以了

- 一个简单的1+2运算，我们的代码如果没有操作系统，还需要考虑硬件的协调工作
    调度cpu资源什么时候读取你的代码，什么时候把进程切换到别的进程
    这些货操作系统帮我们屏蔽了，在操作系统的基础上写的

    1. c = a + b  是一段程序代码
    2. cpu 不能一步完成，接受指令集  原语
        操作系统  代码  编译成cpu可以理解的代码集合
        把a的值从内存中拿到后，存到cpu的A寄存器中  for(let i=0; i<100; i++>){}
        LOAD a  16(内存地址) 
        把b的值从内存中拿到后，存到cpu的B寄存器中
        LOAD b  17(内存地址) 
        cpu 直接执行的加法操作
        ADD a, b
        STORE c 18

- 操作系统分成两种指令？
    特权指令  不允许用户程序使用的，内存的清零等
    非特权指令  普通的运算指令...
- 操作系统分成两种状态
    cpu 如何判断当前是否可以执行特权指令
    用户态
    核心态
- 系统工程师  linux
    内核程序
    应用程序
